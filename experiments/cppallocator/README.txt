C++ version of allocator.

Allocates a long linked list.
Various memory managements.
